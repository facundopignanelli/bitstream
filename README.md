# BitStream

**DISCLAIMER: This plugin was primarily created to experiment with AI‑generated code. It is unsupported, provided as‑is, and I do not recommend using it in production.**

BitStream is an experimental WordPress plugin that adds a lightweight microblogging experience to your site. It introduces a custom post type called **Bits** (short status updates), supports rich interactions, and is designed for both desktop and mobile use. The project was written entirely with the help of AI tools.

## Features

- **Custom Post Type:** Registers a `bit` post type for short updates, with archive and REST API support.
- **Automatic Titles:** Each Bit receives an autogenerated title (`Bit #YYYY-MM-DD:001`).
- **Quick Post Form:** `[bitstream_quick_post]` shortcode renders a minimal front-end form for logged-in users. Users can post:
  - Text content (optional)
  - A ReBit URL (optional, for sharing/embedding links)
  - An image from the WordPress Media Library (optional, can post image-only Bits)
- **Full Editor:** A button links to the full WordPress editor for advanced Bit creation.
- **ReBits:** If a URL is provided, the plugin displays an embedded preview or link. Popular domains (YouTube, Spotify, Goodreads, etc.) show custom icons and labels. YouTube links are auto-embedded.
- **Quoted Bits:** Bits can quote another Bit, showing the quoted content, date, and a rich preview.
- **Likes:** AJAX-powered like/unlike buttons with localStorage tracking for each user/device.
- **Comments:** Native WordPress comments enabled by default, with custom styling and AJAX toggling.
- **Infinite Scroll & Load More:** The `[bitstream]` shortcode outputs a feed of Bits with infinite scroll and a "Load More" button. `[bitstream_latest]` renders the 3 most recent Bits.
- **PWA Support:** On the Quick Post page, the plugin loads a manifest and service worker for a minimal Progressive Web App experience (installable, offline form, unique scope to avoid PWA clashes).
- **OG Data Fetching:** When saving a Bit with a ReBit URL, the plugin fetches Open Graph data (title, description, image) for rich previews.
- **ReBit Mappings Admin:** Admin page to manage domain-to-label/icon mappings for ReBits.
- **Quote Action:** Admin row action to quote an existing Bit in a new Bit.
- **Custom CSS & JS:**
  - `bitstream.css` ensures responsive, modern layout, and forces all images to fit cards regardless of how they're inserted.
  - `bitstream.js` handles likes, comment toggling, copy-link, infinite scroll, QuickBit media modal, and various UI fixes.
- **Font Awesome Support:** Uses Font Awesome icons for actions and ReBit labels.
- **Accessibility & Mobile:** All forms and feeds are mobile-friendly and accessible.

## Usage

1. Upload the plugin files to your WordPress `plugins` directory and activate it.
2. Create a page and insert the `[bitstream]` shortcode to display the Bit feed. Optionally, add `[bitstream_quick_post]` for the QuickBit form.
3. Visit `/bitstream/` on your site to see published Bits. Use the QuickBit form or full editor to post new Bits.
4. Use the admin menu to manage ReBit mappings or quote existing Bits.

## Technical Notes

- **Frontend:**
  - All UI logic is in `bitstream.js` (likes, comments, infinite scroll, media modal, copy-link, etc.).
  - All layout and responsive rules are in `bitstream.css` (including forced image constraints for all post images).
- **PWA:**
  - Manifest (`manifest.json`) and service worker (`sw.js`) are loaded only on the Quick Post page, with a unique `/bitstream/` scope to avoid conflicts with other PWAs.
- **Security:**
  - All forms use nonces and capability checks. AJAX handlers are protected.
- **Extensibility:**
  - The plugin is designed to be easily extended with new shortcodes, meta fields, or UI tweaks.

Because this project was created primarily for experimentation, the code may be incomplete or unstable. Use at your own risk.