/* Force override for images with inline width/height attributes or styles */
.bit-card-content img[width],
.bit-card-content img[height],
.bit-card-content img[style],
.bit-rebit-preview img[width],
.bit-rebit-preview img[height],
.bit-rebit-preview img[style] {
    max-width: 100% !important;
    width: auto !important;
    height: auto !important;
    display: block;
    margin: 0.5em auto;
    border-radius: 10px;
    box-shadow: 0 1px 6px rgba(0,0,0,0.07);
}
/* Force image size constraint for images added by QuickBit or in post content */
.bit-card-content > img,
.bit-card-content img,
.bit-rebit-preview > img,
.bit-rebit-preview img {
    max-width: 100% !important;
    height: auto !important;
    display: block;
    margin: 0.5em auto;
    border-radius: 10px;
    box-shadow: 0 1px 6px rgba(0,0,0,0.07);
}
/* BitStream: Restrict image size in posts and previews */
.bit-card-content img,
.bit-rebit-preview img {
    max-width: 100%;
    height: auto;
    display: block;
    margin: 0.5em auto;
    border-radius: 10px;
    box-shadow: 0 1px 6px rgba(0,0,0,0.07);
}

/* Date and Edit link: italic, secondary color, clickable, smaller */
.bit-comment-meta a {
  color: var(--wp--preset--color--accent-2, #044389) !important;
  font-style: italic !important;
  font-size: 0.8em !important;
  text-decoration: none !important;
}

/* Nested replies separator: top border on nested comments */
.comment .children .bit-comment {
  border-top: 1px solid var(--wp--preset--color--accent-3, #ccc) !important;
  padding-top: 0.5em !important;
}

/* Reduce poster name size */
.bit-comment-header .bit-comment-author-name {
  font-size: 0.85em !important;
}


/* Comment container hidden by default and toggle via 'open' class */
.bit-comments {
  display: none;
}
.bit-comments.open {
  display: block;
  margin-top: 1rem;
}

/* Hide duplicated 'says:' */
.bit-comments .says {
  display: none !important;
}

/* Author name styling */
.bit-comments-list .comment-author .fn {
  font-size: 0.9em;
  color: var(--wp--preset--color--accent-1,#2c6e49) !important;
  font-style: normal;
}

/* Date/time link styling (disable link) */
.bit-comments-list .comment-metadata a:first-child {
  pointer-events: none !important;
  color: var(--wp--preset--color--accent-2,#044389) !important;
  font-style: italic !important;
  text-decoration: none !important;
}

/* Preserve edit link */
.bit-comments-list .comment-edit-link {
  pointer-events: auto !important;
  font-style: normal !important;
}

/* Indent nested replies */
.bit-comments-list .children {
  margin-left: 1.5em !important;
  border-left: 1px solid var(--wp--preset--color--accent-3,#ccc) !important;
  padding-left: 1em !important;
}

/* Divider lines between comments */
.bit-comments-list .comment {
  border-bottom: 1px solid var(--wp--preset--color--accent-3,#ccc);
  padding-bottom: 0.5em;
  margin-bottom: 0.5em;
}


/* BitStream Action Icons Styling */
.bit-action i {
    color: var(--wp--preset--color--accent-1, #2c6e49);
    transition: color 0.2s ease;
}
.bit-action:hover i {
    color: var(--wp--preset--color--accent-2, #044389);
}
.bit-like .bit-like-count {
    color: var(--wp--preset--color--accent-1, #2c6e49);
}
/* Liked state */
.bit-like.liked i {
    color: var(--wp--preset--color--accent-2, #044389);
}
/* Pulse animation */
@keyframes bitstream-pulse {
  0%   { transform: scale(1); }
  50%  { transform: scale(1.3); }
  100% { transform: scale(1); }
}
.bit-like.pulse {
  animation: bitstream-pulse 0.3s ease-in-out;
}

/* Comments Layout Tweaks */
.bit-comments-list .bit-comment {
    border-bottom: 1px solid #eee;
    padding-bottom: 1rem;
    margin-bottom: 1rem;
}
.bit-comment .comment-author.vcard {
    display: flex;
    align-items: center;
    font-size: 0.875rem;
}
.bit-comment .comment-author.vcard img.avatar {
    width: 32px;
    height: 32px;
    margin-right: 0.5rem;
    border-radius: 50%;
}
.bit-comment .comment-author.vcard b.fn {
    margin-right: 0.25rem;
}
.bit-comment .comment-author.vcard .says {
    margin-left: 0.25rem;
}
.bit-comment .commentmetadata a,
.bit-comment .commentmetadata a:visited {
    font-style: italic;
    color: var(--wp--preset--color--accent-2, #044389);
    text-decoration: none;
    pointer-events: none;
    cursor: default;
}
.bit-comment .children .bit-comment {
    margin-left: 20px;
    border-left: 2px solid #eee;
    padding-left: 1rem;
}

/* Default icon color for action buttons */
.bit-action i {
    color: var(--wp--preset--color--accent-1, #2c6e49);
    transition: color 0.2s ease;
}
/* Hover state for icons */
.bit-action:hover i {
    color: var(--wp--preset--color--accent-2, #044389);
}
/* Pulse animation */
@keyframes bitstream-pulse {
  0%   { transform: scale(1); }
  50%  { transform: scale(1.3); }
  100% { transform: scale(1); }
}
.bit-like.pulse {
  animation: bitstream-pulse 0.3s ease-in-out;
}


/* BitStream Comment Form Styling */

.bit-comment-form {
    max-width: 720px;
    margin: 0 auto;
}

.bit-comment-form textarea {
    width: 100%;
    min-width: 100%;
    max-width: 100%;
    height: 140px;
    padding: 0.75rem;
    border: 1px solid #ccc;
    border-radius: 12px;
    font-size: 1rem;
    font-family: inherit;
    resize: vertical;
    box-sizing: border-box;
}

.bit-comment-form input[type="submit"] {
    background-color: var(--wp--preset--color--accent-1, #2c6e49);
    color: white;
    border: none;
    padding: 0.6rem 1.2rem;
    font-size: 1rem;
    border-radius: 12px;
    cursor: pointer;
    font-family: inherit;
    transition: background-color 0.2s ease;
}

.bit-comment-form input[type="submit"]:hover {
    background-color: var(--wp--preset--color--accent-2, #044389);
}

.bit-comments-list .comment {
    margin-bottom: 1.5rem;
    padding-bottom: 1rem;
    border-bottom: 1px solid #eee;
}

.bit-comments-list .comment-author {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    margin-bottom: 0.25rem;
}

.bit-comments-list .comment-author .avatar {
    border-radius: 9999px;
    width: 40px;
    height: 40px;
}

.bit-comments-list .comment-author b {
    font-size: 1rem;
    font-weight: 600;
}

.bit-comments-list .comment-metadata {
    font-size: 0.85rem;
    color: #666;
}

.bit-comments-list .comment-content {
    font-size: 0.95rem;
    line-height: 1.6;
    margin-top: 0.25rem;
}

.bit-comments-list .reply {
    font-size: 0.85rem;
    margin-top: 0.5rem;
}


/* Like button animation and active state */
.bit-like.liked {
    color: var(--wp--preset--color--primary, #c00);
    font-weight: bold;
    transform: scale(1.05);
    transition: all 0.2s ease;
}

.bit-like:hover {
    opacity: 0.8;
}

/* Permalink button hover effect */
.bit-permalink {
    transition: color 0.2s ease;
}

.bit-permalink:focus,
.bit-permalink:hover {
    color: var(--wp--preset--color--primary, #000);
}

/* Load More Button Styling */
.bitstream-load-more {
    display: block;
    margin: 2rem auto;
    background-color: var(--wp--preset--color--accent-1, #2c6e49);
    color: white;
    border: none;
    padding: 0.6rem 1.2rem;
    font-size: 1rem;
    border-radius: 12px;
    cursor: pointer;
    font-family: inherit;
    transition: background-color 0.2s ease;
}

.bitstream-load-more:hover,
.bitstream-load-more:focus {
    background-color: var(--wp--preset--color--accent-2, #044389);
}
.bitstream-quoted-preview {
    border-radius: 13px;
    box-shadow: 0 2px 12px rgba(0,0,0,0.10);
    padding: 16px;
    background: #fafafa;
    margin-bottom: 20px;
}

/* Pulse animation for permalink icon */
.bit-permalink i.pulse {
    animation: bitstream-pulse 0.3s ease-in-out;
}

/* Remove focus outline on action buttons and icons */
.bit-like:focus,
.bit-permalink:focus,
.bit-action:focus {
    outline: none !important;
    box-shadow: none !important;
}
.bit-like i:focus,
.bit-permalink i:focus,
.bit-action i:focus {
    outline: none !important;
    box-shadow: none !important;
}

/* Animated comments transition */
.bit-comments {
    display: block !important;
    max-height: 0;
    opacity: 0;
    overflow: hidden;
    transition: max-height 0.3s ease, opacity 0.3s ease;
    margin-top: 0;
}
.bit-comments.open {
    max-height: 1000px;
    opacity: 1;
    margin-top: 1rem;
}

/* Quick Bit/ReBit form styling */
.bitstream-form {
    max-width: 600px;
    margin: 2rem auto;
}
.bitstream-form textarea,
.bitstream-form input[type="url"],
.bitstream-form input[type="file"] {
    width: 100%;
}
.bitstream-form .wp-block-button {
    margin: 13px 0;
    text-align: center;
}
.bitstream-form .wp-block-button__link,
.bitstream-form .wp-block-button button {
    border-radius: 13px;
}
.bitstream-full-editor {
    text-align: center;
}
.bitstream-full-editor .wp-block-button__link {
    background-color: var(--wp--preset--color--accent-2);
    border-radius: 13px;
    transition: background-color 0.2s ease;
}
.bitstream-full-editor .wp-block-button__link:hover {
    background-color: var(--wp--preset--color--accent-1);
}
.bitstream-login-button {
    text-align: center;
}

/* Animated comments transition */
.bit-comments {
    max-height: 0;
    opacity: 0;
    overflow: hidden;
    transition: max-height 0.3s ease, opacity 0.3s ease, margin-top 0.3s ease;
    margin-top: 0;
}
.bit-comments.open {
    max-height: 1000px;
    opacity: 1;
    margin-top: 1rem;
}

/* Animated comments transition */
.bit-comments {
    max-height: 0;
    opacity: 0;
    overflow: hidden;
    transition: max-height 0.3s ease, opacity 0.3s ease, margin-top 0.3s ease;
    margin-top: 0;
}
.bit-comments.open {
    max-height: 1000px;
    opacity: 1;
    margin-top: 1rem;
}
